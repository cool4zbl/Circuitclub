{{!-- 正式考试页面 --}}

{{!< ../layout}}
<style>
  i.fa {
    font-size: 2em;
  }
  i.fa-check-circle {
    color: #2a8c01;
  }
  i.fa-times-circle {
    color: #DD1B45;
  }
  #exam-container {
    /*background: orange;*/
    font-size: 1.1em;
  }
  #exam-nav ul {
    display: block;
    position: fixed;
    top: 200px; 
    right: 60px;
  }
  article.per-ques {
    margin-bottom: 20px;
  }
  #paper-heading {
    margin-bottom: 40px;
  }

</style>

<script>
  $(document).ready(function() {
    var $trueAns = $('.true-ans');
    $('.true-ans, .ans-check-right, .ans-check-wrong').hide();
    $('.per-ques').each(function(index, el) {
        $(this).find('span.ques-index').text((index+1));

     });
    $('#submit-paper').click(function(event) {
      event.preventDefault();
      $('.per-ques').each(function(index, el) {
        var stdAns = $(this).find('.std-ans').val();
        var trueAns = $(this).find('span.true-ans').text();
        // console.log(trueAns, stdAns)
        if (trueAns == stdAns) {
          $(this).find('.ans-check-right').show()
        } else {
          $(this).find('.ans-check-wrong').show();
        }

      });


    });
  });
</script>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h2 id="paper-heading" class="col-md-offset-5">在 线 考 试</h2>
      <hr>
    </div>

    <div class="col-md-10 col-md-offset-1" id="exam-container">

      {{#each questions}}
          <article class="panel panel-info per-ques ques-id-{{_id}} data-id="{{_id}}">
            <section class="ques-info panel-heading">
              <label for="">第 <span class="ques-index">X</span> 题 </label>
              <label class="ques-type" for=""> &nbsp;&nbsp;&nbsp; [&nbsp;{{this.type}}&nbsp;]&nbsp;</label>
              <div class="ques-title">{{this.title}}</div>
              {{#if this.a}} 
                <dt>选项</dt>
                <dd>A. {{this.a}}</dd>
                <dd>B. {{this.b}}</dd>
                <dd>C. {{this.c}}</dd>
                <dd>D. {{this.d}}</dd>
              {{/if}}
               <div class="ques-content">{{this.content}}</div>
            </section>

            <section class="ans-info panel-body" >
              <div class="row">
                <div class="col-lg-6">
                  <div class="input-group ans-content">
                    <span class="input-group-addon">回答：</span>
                    <input type="text" class="form-control std-ans" placeholder="" name="answer" value="">
                  </div><!-- /input-group -->
                </div><!-- /.col-lg-6 -->
                <div class="col-md-2 ans-check-right">
                    <i class="fa fa-check-circle"></i>
                </div>               
                <div class="col-md-2 ans-check-wrong">
                    <i class="fa fa-times-circle"></i>
                </div>
                <div class="col-lg-2 col-md-offset-2">
                  <div class="input-group true-ans" >
                    <p> 正确答案: 
                    <span class="true-ans"></span>
                    </p>
                  </div><!-- /input-group -->
                </div><!-- /.col-lg-6 -->

              </div><!-- /.row -->

            </section>

          </article>
          <hr>
      {{/each}}
    </div>
    <aside id="exam-nav">
      <ul class="nav nav-pills nav-stacked col-sm-1">
        <li role=""><a href="#">上一题</a></li>
        <li role="" class="active"><a href="#">下一题</a></li>
      </ul>
    </aside>
    <div class="row">
      <div class="col-md-12">
        <div class="col-md-offset-5">
          <a href="#"><button id="submit-paper" class="btn btn-danger">提 交 答 卷</button></a>
        </div>
      </div>
    </div>
  </div>

</div>
<script src="/js/admin.js"></script>